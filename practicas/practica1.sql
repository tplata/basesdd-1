DROP TABLE LOCALIZACIONES_DEPT CASCADE CONSTRAINTS;
DROP TABLE TRABAJA_EN CASCADE CONSTRAINTS;
DROP TABLE DEPENDIENTE CASCADE CONSTRAINTS;
DROP TABLE PROYECTO CASCADE CONSTRAINTS;
DROP TABLE EMPLEADO CASCADE CONSTRAINTS;
DROP TABLE DEPARTAMENTO CASCADE CONSTRAINTS;
CREATE TABLE EMPLEADO (
	NOMBRE VARCHAR(15) NOT NULL,
	INC CHAR,
	APELLIDO VARCHAR(15) NOT NULL,
	NSS CHAR(9) NOT NULL,
	FECHA_NCTO VARCHAR(15),
	DIRECCION VARCHAR(30),
	SEXO CHAR,
	SALARIO DECIMAL(10,2),
	NSS_SUPERV CHAR(9),
	ND INT);

CREATE TABLE DEPARTAMENTO(
	NOMBRED VARCHAR(15) NOT NULL,
	NUMEROD INT NOT NULL,
	NSS_JEFE CHAR(9) NOT NULL,
	FECHA_INICIO_JEFE VARCHAR(15));

CREATE TABLE LOCALIZACIONES_DEPT(
	NUMEROD INT NOT NULL,
	LOCALIZACIOND VARCHAR(15) NOT NULL);

CREATE TABLE PROYECTO(
	NOMBREP VARCHAR(15) NOT NULL,
	NUMEROP INT NOT NULL,
	LOCALIZACIONP VARCHAR(15),
	NUMD INT NOT NULL);

CREATE TABLE TRABAJA_EN(
	NSSE CHAR(9) NOT NULL,
	NP INT NOT NULL,
	HORAS DECIMAL(3,1) NOT NULL);

CREATE TABLE DEPENDIENTE(
	NSSE CHAR(9) NOT NULL,
	NOMBRE_DEPENDIENTE VARCHAR(15) NOT NULL,
	SEXO CHAR,
	FECHA_NCTO VARCHAR(15),
	PARENTESCO VARCHAR(8));

insert into empleado values('John','B','Smith','123456789','09-01-65','731 Fondren, Houston, TX','H',30000,'333445555',5);

insert into empleado values('Franklin','T','Wong','333445555', '08-DIC-55', '638 Voss, Houston, TX ','H',40000,'888775555',5);
insert into empleado values('Alicia','J','Zelaya','999887777','19-JUL-68','3321 Castle, Spring, TX','M',25000,'987654321',4);
insert into empleado values('Jennifer','S','Wallace','987654321','20-JUN-41','291 Berry, Bellaire, TX','M',43000,'888775555',4);
insert into empleado values('Ramesh','K',' Narayan','666884444','15-SEP-72','975 Fire Oak, Humble, TX' ,'H',38000,'333445555',5);
insert into empleado values(' Joyce','A',' English','453453453','31-JUL-72','5631 Rice, Houston, TX','M', 25000,'333445555',5);
insert into empleado values('Ahmad','V',' Jabbar','987987987','29-MAR-69','980 Dallas, Houston, TX','H',25000,'987654321',4);
insert into empleado values(' James ','E',' Borg','888775555','10-NOV-37','450 Stone, Houston, TX','M',55000,NULL,1);

ALTER TABLE EMPLEADO ADD PRIMARY KEY(NSS);

ALTER TABLE DEPARTAMENTO ADD PRIMARY KEY (NUMEROD);
ALTER TABLE DEPARTAMENTO ADD UNIQUE (NOMBRED);
ALTER TABLE DEPARTAMENTO ADD FOREIGN KEY (NSS_JEFE) REFERENCES EMPLEADO(NSS);

ALTER TABLE LOCALIZACIONES_DEPT ADD PRIMARY KEY(NUMEROD,LOCALIZACIOND);
ALTER TABLE LOCALIZACIONES_DEPT ADD FOREIGN KEY(NUMEROD) REFERENCES DEPARTAMENTO(NUMEROD);

ALTER TABLE PROYECTO ADD PRIMARY KEY(NUMEROP);
ALTER TABLE PROYECTO ADD UNIQUE(NOMBREP);
ALTER TABLE PROYECTO ADD FOREIGN KEY(NUMD) REFERENCES DEPARTAMENTO(NUMEROD);

ALTER TABLE TRABAJA_EN ADD PRIMARY KEY(NSSE, NP);
ALTER TABLE TRABAJA_EN ADD FOREIGN KEY(NSSE) REFERENCES EMPLEADO(NSS);
ALTER TABLE TRABAJA_EN ADD FOREIGN KEY(NP) REFERENCES PROYECTO(NUMEROP);

ALTER TABLE DEPENDIENTE ADD PRIMARY KEY(NSSE, NOMBRE_DEPENDIENTE);
ALTER TABLE DEPENDIENTE ADD FOREIGN KEY(NSSE) REFERENCES EMPLEADO(NSS);

INSERT INTO DEPARTAMENTO VALUES('Investigacion',5,'333445555','22-MAY-88');
INSERT INTO DEPARTAMENTO VALUES('Administracion',4,'987654321','01-01-95');
INSERT INTO DEPARTAMENTO VALUES('Direccion',1,'888775555','19-JUN-81');

INSERT INTO LOCALIZACIONES_DEPT VALUES(1,'Houston');
INSERT INTO LOCALIZACIONES_DEPT VALUES(4,'Stafford');
INSERT INTO LOCALIZACIONES_DEPT VALUES(5,'Bellaire');
INSERT INTO LOCALIZACIONES_DEPT VALUES(5,'Sugarland');
INSERT INTO LOCALIZACIONES_DEPT VALUES(5,'Houston');

INSERT INTO PROYECTO VALUES('ProductoX',1,'Bellaire',5);
INSERT INTO PROYECTO VALUES('ProductoY',2,'Sugarland',5);
INSERT INTO PROYECTO VALUES('ProductoZ',3,'Houston',5);
INSERT INTO PROYECTO VALUES('Automatizacion',10,'Stafford',4);
INSERT INTO PROYECTO VALUES ('Reorganizacion',20,'Houston',1);
INSERT INTO PROYECTO VALUES('Nuevos valores',30,'Stafford',4);

INSERT INTO TRABAJA_EN VALUES('123456789',1,32.5);
INSERT INTO TRABAJA_EN VALUES('123456789',2,7.5);
INSERT INTO TRABAJA_EN VALUES('666884444',3,40.0);
INSERT INTO TRABAJA_EN VALUES('453453453',1,20.0);
INSERT INTO TRABAJA_EN VALUES('453453453',2,20.0);
INSERT INTO TRABAJA_EN VALUES('333445555',2,10.0);
INSERT INTO TRABAJA_EN VALUES('333445555',3,10.0);
INSERT INTO TRABAJA_EN VALUES('333445555',10,10.0);
INSERT INTO TRABAJA_EN VALUES('333445555',20,10.0);
INSERT INTO TRABAJA_EN VALUES('999887777',30,30.0);
INSERT INTO TRABAJA_EN VALUES('999887777',10,10.0);
INSERT INTO TRABAJA_EN VALUES('987987987',10,35.0);
INSERT INTO TRABAJA_EN VALUES('987987987',30,5.0);
INSERT INTO TRABAJA_EN VALUES('987654321',30,20.0);
INSERT INTO TRABAJA_EN VALUES('987654321',20,15.0);
INSERT INTO TRABAJA_EN VALUES('888775555',20,30);

INSERT INTO DEPENDIENTE VALUES('333445555','Alice','M','05-ABR-86','HIJA');
INSERT INTO DEPENDIENTE VALUES('333445555','Theodore','H','25-OCT-83','HIJO');
INSERT INTO DEPENDIENTE VALUES('333445555','Joy','M','03-MAY-58','ESPOSA');
INSERT INTO DEPENDIENTE VALUES('987654321','Abner','H','28-FEB-42','ESPOSO');
INSERT INTO DEPENDIENTE VALUES('123456789','Michael','H','04-ENE-88','HIJO');
INSERT INTO DEPENDIENTE VALUES('123456789','Alice','M','30-DIC-88','HIJA');
INSERT INTO DEPENDIENTE VALUES('123456789','Elizabeth','M','05-MAY-67','ESPOSA');

ALTER TABLE EMPLEADO ADD FOREIGN KEY (NSS_SUPERV) REFERENCES EMPLEADO(NSS);
ALTER TABLE EMPLEADO ADD FOREIGN KEY(ND) REFERENCES DEPARTAMENTO(NUMEROD);



